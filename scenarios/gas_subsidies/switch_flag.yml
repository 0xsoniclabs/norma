name: test subsidies flag switching

# This scenario demonstrates switching the gas subsidies flag mid-scenario

duration: 60

network_rules:
  genesis:
    UPGRADES_GAS_SUBSIDIES: false
  updates:
    - time: 10
      rules:
        UPGRADES_GAS_SUBSIDIES: true

# advance epoch, to activate gas subsidies
advance_epoch:
  - time: 15
    epochs: 1

validators:
  - name: main
    instances: 2
    imagename: "sonic:main"
  - name: release-branch
    instances: 1
    imagename: "sonic:v2.1"
  - name: too-old
    instances: 1
    imagename: "sonic:v2.1"
    failing: true

applications:
  - name: subsidies 
    type: subsidies
    start: 20          # start time
    users: 10
    rate:
      constant: 20    # Tx/s



